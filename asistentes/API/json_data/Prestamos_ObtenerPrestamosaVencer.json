{
    "nombre": "ObtenerPrestamosaVencer",
    "descripcion": "Método para obtener los préstamos que estan por vencer dentro de determinados días. \n",
    "entrada": "### Datos de entrada \nNombre | Tipo | Comentarios \n--------- | ----------- | ----------- \ndiasVtoCuota | Int | Días que faltan para el vencimiento de los prestamos. \nactualiza  | String | Habilita la actualización en la tabla SNG912 con los datos del prestamo [Hidden: Valor fijo 'S']. \n\n",
    "salida": "### Datos de salida \n\nNombre | Tipo | Comentarios \n--------- | ----------- | ----------- \nsdtDatosPrestamos | sBTDatosPrestamo | Listado de los prestamos que estan por vencer en determinados días. \n\nLos campos del tipo de dato estructurado sBTDatosPrestamo son los siguientes: \n\nCampo | Tipo | Comentarios \n--------- | ----------- | ----------- \nplazo | Int | Plazo. \neventosPosteriores | String | Hay eventos posteriores (S/N). \ndeudaTotalVencida | Double | Monto de la deuda vencida a la fecha. \nperiodicidad | Int |  Período entre cuotas. \nsimboloMoneda | Sting | Símbolo monetario. \nfechaVencimiento | Date | Fecha de vencimiento del préstamo. \nclienteUId | Int | Identificador único del cliente. \nproducto | sBTProducto | Descripción del producto. \nfechaProximoVencimiento | Date | Fecha de vencimiento de la próxima cuota. \ntasaVigente | Double | Tasa vigente. \nfechaPrimerCuotaImpaga | Date | Fecha de la primera cuota impaga. \nvalorCuota | Double | Valor de la cuota. \nsaldoCapital | Double | Saldo de capital. \notrosConceptos | sBTConceptos | Otros conceptos del prestamo. \ncantidadCuotasVencidas | Int | Cantidad de cuotas vencidas. \ncapitalOriginal | Double | Capital original del préstamo. \ntir | Double | Tir. \ndeudaCancelacionTotal | Double | Monto de cancelación total. \ndiasMora | Int | Días de mora del préstamo. \noperacionUId | Long | Identificador único de la operación. \ncantidadCuotasImpagas | Int | Cantidad de cuotas impagas. \ncuotasPagasConRetraso | Int | Cantidad de cuotas pagas con retraso. \ndeudaTotalAFecha | Double | Monto a pagar para estar al día. \nfechaUltimoPago | Date | Fecha de último pago de cuota. \ntipoAmortizacion | String | Tipo de amortización. \ndatosAdicionales | sbTDatoAdicional | Listado de datos adicionales. \nestado | String | Estado. \ntasaMoraVigente | Double | Tasa de mora vigente. \nsucursal | String | Sucursal del préstamo. \nfechaValor | Date | Fecha de alta del préstamo. \ncantidadCuotas | Int | Cantidad de cuotas del préstamo. \n\nLos campos del tipo de dato estructurado sBTProducto son los siguientes:  \n\nCampo | Tipo | Comentarios \n--------- | ----------- | ----------- \nproductoUId | Long | Identificador único de producto. \nnombre | String | Nombre del producto. \nmoneda | String | Símbolo de la moneda. \npapel | String | Símbolo del papel. \n\nLos campos del tipo de dato estructurado sBTConceptos son los siguientes: \n\nCampo | Tipo | Comentarios \n--------- | ----------- | ----------- \nconcepto | String | Concepto. \nvalor | Double | Importe. \ntexto | String | Texto. \n\nLos campos del tipo de dato estructurado sBTDatoAdicional son los siguientes: \n\nCampo | Tipo | Comentarios \n--------- | ----------- | ----------- \ndetalle | String | Detalle de dato adicional. \n\n",
    "intro": "# Obtener Prestamos a Vencer (Disponible únicamente para V3R1) \n\nMétodo para obtener los préstamos que estan por vencer dentro de determinados días. \n\nNombre publicación | Programa | Global/País \n--------- | ----------- | ----------- \nBTPrestamos.ObtenerPrestamosAVencer | RBTPG472 | Global \n\n",
    "error": "### Errores \n\nCódigo | Descripción \n--------- | ----------- \n30003 | No existe registro para el producto indicado. \n\n \n",
    "sistema": "Prestamos",
    "ej_in": "> Ejemplo de invocación al método Obtener Prestamos Por Rango Mora: \n\n<code-group> \n<code-block title=\"XML\" active> \n```xml \n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:bts=\"http://uy.com.dlya.bantotal/BTSOA/\"> \n   <soapenv:Header/> \n   <soapenv:Body> \n      <bts:BTPrestamos.ObtenerPrestamosAVencer> \n         <bts:Btinreq> \n            <bts:Requerimiento>0</bts:Requerimiento> \n            <bts:Canal>BTDIGITAL</bts:Canal> \n            <bts:Device>GZ</bts:Device> \n            <bts:Usuario>Instalador</bts:Usuario> \n            <bts:Token>ad33e17b1199865B3A2E76CF</bts:Token> \n         </bts:Btinreq> \n         <bts:diasVtoCuota>2</bts:diasVtoCuota> \n      </bts:BTPrestamos.ObtenerPrestamosAVencer> \n   </soapenv:Body> \n</soapenv:Envelope> \n``` \n</code-block> \n\n<code-block title=\"JSON\"> \n```json \ncurl -X POST \\ \n  'http://btd-bantotal.eastus2.cloudapp.azure.com:4462/btdeveloper/servlet/com.dlya.bantotal.odwsbt_BTPrestamos?ObtenerPrestamosAVencer=' \\ \n  -H 'cache-control: no-cache' \\ \n  -H 'content-type: application/json' \\ \n  -H 'postman-token: 1e026dc4-d252-eff9-4dce-9398f81a587e' \\ \n  -d '{ \n\t\"Btinreq\": { \n    \"Requerimiento\": 0, \n    \"Canal\": \"BTDIGITAL\", \n    \"Device\": \"GZ\", \n    \"Usuario\": \"Instalador\", \n    \"Token\": \"ad33e17b1199865B3A2E76CF\" \n  }, \n  \"diasVtoCuota\": 2 \n}' \n``` \n</code-block> \n</code-group> \n\n",
    "ej_out": "> El POST retornará la siguiente estructura: \n\n<code-group> \n<code-block title=\"XML\" active> \n```xml \n<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"> \n   <SOAP-ENV:Body> \n        <BTPrestamos.ObtenerPrestamosAVencerResponse xmlns=\"http://uy.com.dlya.bantotal/BTSOA/\"> \n         <Btinreq> \n            <Device>GZ</Device> \n            <Usuario>Instalador</Usuario> \n            <Requerimiento>0</Requerimiento> \n            <Canal>BTDIGITAL</Canal> \n            <Token>ad33e17b1199865B3A2E76CF</Token> \n         </Btinreq> \n         <sdtDatosPrestamos> \n            <sBTDatosPrestamo> \n               <plazo>124</plazo> \n               <eventosPosteriores>N</eventosPosteriores> \n               <deudaTotalVencida>0.00</deudaTotalVencida> \n               <periodicidad>15</periodicidad> \n               <simboloMoneda>$</simboloMoneda> \n               <fechaVencimiento>2023-05-31</fechaVencimiento> \n               <producto> \n                  <papel>$</papel> \n                  <moneda>S/</moneda> \n                  <productoUId>1</productoUId> \n                  <nombre>PRÉSTAMO-Financiero 9</nombre> \n               </producto> \n               <clienteUId>407</clienteUId> \n               <fechaProximoVencimiento>2023-03-31</fechaProximoVencimiento> \n               <tasaVigente>83.230000</tasaVigente> \n               <fechaPrimerCuotaImpaga>2023-03-31</fechaPrimerCuotaImpaga> \n               <valorCuota>106.10</valorCuota> \n               <saldoCapital>458.21</saldoCapital> \n               <otrosConceptos></otrosConceptos> \n               <cantidadCuotasVencidas>0</cantidadCuotasVencidas> \n               <capitalOriginal>800.00</capitalOriginal> \n               <tir>0.000000</tir> \n               <deudaCancelacionTotal>530.57</deudaCancelacionTotal> \n               <diasMora>0</diasMora> \n               <operacionUId>10752</operacionUId> \n               <cantidadCuotasImpagas>5</cantidadCuotasImpagas> \n               <deudaTotalAFecha>106.10</deudaTotalAFecha> \n               <cuotasPagasConRetraso>3</cuotasPagasConRetraso> \n               <fechaUltimoPago>2023-03-29</fechaUltimoPago> \n               <tipoAmortizacion>Francés con Seg.e Impu.</tipoAmortizacion> \n               <datosAdicionales></datosAdicionales> \n               <estado>Normal</estado> \n               <tasaMoraVigente>40.000000</tasaMoraVigente> \n               <sucursal>MIRAFLORES</sucursal> \n               <fechaValor>2023-01-27</fechaValor> \n               <cantidadCuotas>9</cantidadCuotas> \n            </sBTDatosPrestamo> \n         </sdtDatosPrestamos> \n         <Erroresnegocio></Erroresnegocio> \n         <Btoutreq> \n            <Numero>227484</Numero> \n            <Estado>OK</Estado> \n            <Servicio>BTPrestamos.ObtenerPrestamosAVencer</Servicio> \n            <Requerimiento>0</Requerimiento> \n            <Fecha>2023-05-09</Fecha> \n            <Hora>12:58:32</Hora> \n            <Canal>BTDIGITAL</Canal> \n         </Btoutreq> \n      </BTPrestamos.ObtenerPrestamosAVencerResponse> \n   </SOAP-ENV:Body> \n</SOAP-ENV:Envelope> \n``` \n</code-block> \n\n<code-block title=\"JSON\"> \n```json \n'{ \n\t\"Btinreq\": { \n    \"Requerimiento\": 0, \n    \"Canal\": \"BTDIGITAL\", \n    \"Device\": \"GZ\", \n    \"Usuario\": \"Instalador\", \n    \"Token\": \"d51ae0498699865B3A2E76CF\" \n\t}, \n    \"sdtDatosPrestamos\": { \n    \"sBTDatosPrestamo\": { \n      \"plazo\": 124, \n      \"eventosPosteriores\": \"N\", \n      \"deudaTotalVencida\": 0, \n      \"periodicidad\": 15, \n      \"simboloMoneda\": \"$\", \n      \"fechaVencimiento\": \"2023-05-31\", \n      \"producto\": { \n        \"papel\": \"$\", \n        \"moneda\": \"S/\", \n        \"productoUId\": 1, \n        \"nombre\": \"PRÉSTAMO-Financiero 9\" \n      }, \n      \"clienteUId\": 407, \n      \"fechaProximoVencimiento\": \"2023-03-31\", \n      \"tasaVigente\": 83.23, \n      \"fechaPrimerCuotaImpaga\": \"2023-03-31\", \n      \"valorCuota\": 106.1, \n      \"saldoCapital\": 458.21, \n      \"otrosConceptos\": \"\", \n      \"cantidadCuotasVencidas\": 0, \n      \"capitalOriginal\": 800, \n      \"tir\": 0, \n      \"deudaCancelacionTotal\": 530.57, \n      \"diasMora\": 0, \n      \"operacionUId\": 10752, \n      \"cantidadCuotasImpagas\": 5, \n      \"deudaTotalAFecha\": 106.1, \n      \"cuotasPagasConRetraso\": 3, \n      \"fechaUltimoPago\": \"2023-03-29\", \n      \"tipoAmortizacion\": \"Francés con Seg.e Impu.\", \n      \"datosAdicionales\": \"\", \n      \"estado\": \"Normal\", \n      \"tasaMoraVigente\": 40, \n      \"sucursal\": \"MIRAFLORES\", \n      \"fechaValor\": \"2023-01-27\", \n      \"cantidadCuotas\": 9 \n    } \n  }, \n    \"Erroresnegocio\": { \n        \"BTErrorNegocio\": [] \n    }, \n    \"Btoutreq\": { \n        \"Numero\": \"901\", \n        \"Estado\": \"OK\", \n        \"Servicio\": \"BTPrestamos.ObtenerPrestamosAVencer\", \n        \"Fecha\": \"2017-12-21\", \n        \"Requerimiento\": \"\", \n        \"Hora\": \"12:27:52\", \n        \"Canal\": \"BTDIGITAL\" \n    } \n}' \n``` \n</code-block> \n</code-group> \n\n",
    "AzureSearch_DocumentKey": 463
}