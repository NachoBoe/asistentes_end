{
    "nombre": "ObtenerPrestamosporRangoMora",
    "descripcion": "Método para obtener los préstamos que esten dentro del rango de mora ingresado. \n",
    "entrada": "### Datos de entrada \n\nNombre | Tipo | Comentarios \n--------- | ----------- | ----------- \ndiasMoraDesde | Int | Días de mora desde. \ndiasMoraHasta | Int | Días de mora hasta. \nactualiza  | String | Habilita la actualización en la tabla SNG912 con los datos del prestamo [Hidden: Valor fijo 'S']. \n\n",
    "salida": "### Datos de salida \n\nNombre | Tipo | Comentarios \n--------- | ----------- | ----------- \nsdtDatosPrestamos | sBTDatosPrestamo | Listado de los prestamos que estan dentro del rango de dias de mora. \n\nLos campos del tipo de dato estructurado sBTDatosPrestamo son los siguientes: \n\nCampo | Tipo | Comentarios \n--------- | ----------- | ----------- \nplazo | Int | Plazo. \neventosPosteriores | String | Hay eventos posteriores (S/N). \ndeudaTotalVencida | Double | Monto de la deuda vencida a la fecha. \nperiodicidad | Int |  Período entre cuotas. \nsimboloMoneda | Sting | Símbolo monetario. \nfechaVencimiento | Date | Fecha de vencimiento del préstamo. \nclienteUId | Int | Identificador único del cliente. \nproducto | sBTProducto | Descripción del producto. \nfechaProximoVencimiento | Date | Fecha de vencimiento de la próxima cuota. \ntasaVigente | Double | Tasa vigente. \nfechaPrimerCuotaImpaga | Date | Fecha de la primera cuota impaga. \nvalorCuota | Double | Valor de la cuota. \nsaldoCapital | Double | Saldo de capital. \notrosConceptos | sBTConceptos | Otros conceptos del prestamo. \ncantidadCuotasVencidas | Int | Cantidad de cuotas vencidas. \ncapitalOriginal | Double | Capital original del préstamo. \ntir | Double | Tir. \ndeudaCancelacionTotal | Double | Monto de cancelación total. \ndiasMora | Int | Días de mora del préstamo. \noperacionUId | Long | Identificador único de la operación. \ncantidadCuotasImpagas | Int | Cantidad de cuotas impagas. \ncuotasPagasConRetraso | Int | Cantidad de cuotas pagas con retraso. \ndeudaTotalAFecha | Double | Monto a pagar para estar al día. \nfechaUltimoPago | Date | Fecha de último pago de cuota. \ntipoAmortizacion | String | Tipo de amortización. \ndatosAdicionales | sbTDatoAdicional | Listado de datos adicionales. \nestado | String | Estado. \ntasaMoraVigente | Double | Tasa de mora vigente. \nsucursal | String | Sucursal del préstamo. \nfechaValor | Date | Fecha de alta del préstamo. \ncantidadCuotas | Int | Cantidad de cuotas del préstamo. \n\nLos campos del tipo de dato estructurado sBTProducto son los siguientes:  \n\nCampo | Tipo | Comentarios \n--------- | ----------- | ----------- \nproductoUId | Long | Identificador único de producto. \nnombre | String | Nombre del producto. \nmoneda | String | Símbolo de la moneda. \npapel | String | Símbolo del papel. \n\nLos campos del tipo de dato estructurado sBTConceptos son los siguientes: \n\nCampo | Tipo | Comentarios \n--------- | ----------- | ----------- \nconcepto | String | Concepto. \nvalor | Double | Importe. \ntexto | String | Texto. \n\nLos campos del tipo de dato estructurado sBTDatoAdicional son los siguientes: \n\nCampo | Tipo | Comentarios \n--------- | ----------- | ----------- \ndetalle | String | Detalle de dato adicional. \n\n",
    "intro": "# Obtener Prestamos por Rango Mora (Disponible únicamente para V3R1) \n\nMétodo para obtener los préstamos que esten dentro del rango de mora ingresado. \n\nNombre publicación | Programa | Global/País \n--------- | ----------- | ----------- \nBTPrestamos.ObtenerPrestamosPorRangoMora | RBTPG471 | Global \n\n",
    "error": "### Errores \n\nCódigo | Descripción \n--------- | ----------- \n30001 | DiasMoraHasta no puede ser menor a DiasMoraDesde. \n30003 | No existe registro para el producto indicado. \n\n \n",
    "sistema": "Prestamos",
    "ej_in": "> Ejemplo de invocación al método Obtener Prestamos Por Rango Mora: \n\n<code-group> \n<code-block title=\"XML\" active> \n```xml \n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:bts=\"http://uy.com.dlya.bantotal/BTSOA/\"> \n   <soapenv:Header/> \n   <soapenv:Body> \n      <bts:BTPrestamos.ObtenerPrestamosPorRangoMora> \n         <bts:Btinreq> \n            <bts:Requerimiento>0</bts:Requerimiento> \n            <bts:Canal>BTDIGITAL</bts:Canal> \n            <bts:Device>GZ</bts:Device> \n            <bts:Usuario>Instalador</bts:Usuario> \n            <bts:Token>d51ae0498699865B3A2E76CF</bts:Token> \n         </bts:Btinreq> \n         <bts:diasMoraDesde>23</bts:diasMoraDesde> \n         <bts:diasMoraHasta>100</bts:diasMoraHasta> \n      </bts:BTPrestamos.ObtenerPrestamosPorRangoMora> \n   </soapenv:Body> \n</soapenv:Envelope> \n``` \n</code-block> \n\n<code-block title=\"JSON\"> \n```json \ncurl -X POST \\ \n  'http://btd-bantotal.eastus2.cloudapp.azure.com:4462/btdeveloper/servlet/com.dlya.bantotal.odwsbt_BTPrestamos?ObtenerPrestamosPorRangoMora=' \\ \n  -H 'cache-control: no-cache' \\ \n  -H 'content-type: application/json' \\ \n  -H 'postman-token: 1e026dc4-d252-eff9-4dce-9398f81a587e' \\ \n  -d '{ \n\t\"Btinreq\": { \n    \"Requerimiento\": 0, \n    \"Canal\": \"BTDIGITAL\", \n    \"Device\": \"GZ\", \n    \"Usuario\": \"Instalador\", \n    \"Token\": \"d51ae0498699865B3A2E76CF\" \n  }, \n  \"diasMoraDesde\": 23, \n  \"diasMoraHasta\": 100 \n}' \n``` \n</code-block> \n</code-group> \n\n",
    "ej_out": "> El POST retornará la siguiente estructura: \n\n<code-group> \n<code-block title=\"XML\" active> \n```xml \n<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"> \n   <SOAP-ENV:Body> \n        <BTPrestamos.ObtenerPrestamosPorRangoMoraResponse xmlns=\"http://uy.com.dlya.bantotal/BTSOA/\"> \n         <Btinreq> \n            <Device>GZ</Device> \n            <Usuario>Instalador</Usuario> \n            <Requerimiento>0</Requerimiento> \n            <Canal>BTDIGITAL</Canal> \n            <Token>ad33e17b1199865B3A2E76CF</Token> \n         </Btinreq> \n         <sdtDatosPrestamos> \n            <sBTDatosPrestamo> \n               <plazo>113</plazo> \n               <eventosPosteriores>N</eventosPosteriores> \n               <deudaTotalVencida>521.12</deudaTotalVencida> \n               <periodicidad>15</periodicidad> \n               <simboloMoneda>$</simboloMoneda> \n               <fechaVencimiento>2023-02-15</fechaVencimiento> \n               <producto> \n                  <papel>$</papel> \n                  <moneda>S/</moneda> \n                  <productoUId>1</productoUId> \n                  <nombre>PRÉSTAMO-Financiero 9</nombre> \n               </producto> \n               <clienteUId>253</clienteUId> \n               <fechaProximoVencimiento>2023-01-31</fechaProximoVencimiento> \n               <tasaVigente>83.230000</tasaVigente> \n               <fechaPrimerCuotaImpaga>2022-10-25</fechaPrimerCuotaImpaga> \n               <valorCuota>75.77</valorCuota> \n               <saldoCapital>500.00</saldoCapital> \n               <otrosConceptos></otrosConceptos> \n               <cantidadCuotasVencidas>6</cantidadCuotasVencidas> \n               <capitalOriginal>500.00</capitalOriginal> \n               <tir>0.000000</tir> \n               <deudaCancelacionTotal>672.70</deudaCancelacionTotal> \n               <diasMora>95</diasMora> \n               <operacionUId>5819</operacionUId> \n               <cantidadCuotasImpagas>8</cantidadCuotasImpagas> \n               <deudaTotalAFecha>596.89</deudaTotalAFecha> \n               <cuotasPagasConRetraso>0</cuotasPagasConRetraso> \n               <fechaUltimoPago/> \n               <tipoAmortizacion>Francés con Seg.e Impu.</tipoAmortizacion> \n               <datosAdicionales></datosAdicionales> \n               <estado>Normal</estado> \n               <tasaMoraVigente>40.000000</tasaMoraVigente> \n               <sucursal>MIRAFLORES</sucursal> \n               <fechaValor>2022-10-25</fechaValor> \n               <cantidadCuotas>8</cantidadCuotas> \n            </sBTDatosPrestamo> \n            <sBTDatosPrestamo> \n               <plazo>112</plazo> \n               <eventosPosteriores>N</eventosPosteriores> \n               <deudaTotalVencida>770.80</deudaTotalVencida> \n               <periodicidad>15</periodicidad> \n               <simboloMoneda>$</simboloMoneda> \n               <fechaVencimiento>2023-02-15</fechaVencimiento> \n               <producto> \n                  <papel>$</papel> \n                  <moneda>S/</moneda> \n                  <productoUId>1</productoUId> \n                  <nombre>PRÉSTAMO-Financiero 9</nombre> \n               </producto> \n               <clienteUId>310</clienteUId> \n               <fechaProximoVencimiento>2023-01-31</fechaProximoVencimiento> \n               <tasaVigente>83.230000</tasaVigente> \n               <fechaPrimerCuotaImpaga>2022-10-26</fechaPrimerCuotaImpaga> \n               <valorCuota>117.50</valorCuota> \n               <saldoCapital>800.00</saldoCapital> \n               <otrosConceptos></otrosConceptos> \n               <cantidadCuotasVencidas>6</cantidadCuotasVencidas> \n               <capitalOriginal>800.00</capitalOriginal> \n               <tir>0.000000</tir> \n               <deudaCancelacionTotal>1006.52</deudaCancelacionTotal> \n               <diasMora>94</diasMora> \n               <operacionUId>9197</operacionUId> \n               <cantidadCuotasImpagas>8</cantidadCuotasImpagas> \n               <deudaTotalAFecha>888.30</deudaTotalAFecha> \n               <cuotasPagasConRetraso>0</cuotasPagasConRetraso> \n               <fechaUltimoPago/> \n               <tipoAmortizacion>Francés con Seg.e Impu.</tipoAmortizacion> \n               <datosAdicionales></datosAdicionales> \n               <estado>Normal</estado> \n               <tasaMoraVigente>40.000000</tasaMoraVigente> \n               <sucursal>MIRAFLORES</sucursal> \n               <fechaValor>2022-10-26</fechaValor> \n               <cantidadCuotas>8</cantidadCuotas> \n            </sBTDatosPrestamo> \n         </sdtDatosPrestamos> \n         <Erroresnegocio></Erroresnegocio> \n         <Btoutreq> \n            <Numero>227484</Numero> \n            <Estado>OK</Estado> \n            <Servicio>BTPrestamos.ObtenerPrestamosPorRangoMora</Servicio> \n            <Requerimiento>0</Requerimiento> \n            <Fecha>2023-05-09</Fecha> \n            <Hora>12:58:32</Hora> \n            <Canal>BTDIGITAL</Canal> \n         </Btoutreq> \n      </BTPrestamos.ObtenerPrestamosPorRangoMoraResponse> \n   </SOAP-ENV:Body> \n</SOAP-ENV:Envelope> \n``` \n</code-block> \n\n<code-block title=\"JSON\"> \n```json \n'{ \n\t\"Btinreq\": { \n    \"Requerimiento\": 0, \n    \"Canal\": \"BTDIGITAL\", \n    \"Device\": \"GZ\", \n    \"Usuario\": \"Instalador\", \n    \"Token\": \"d51ae0498699865B3A2E76CF\" \n\t}, \n    \"sdtDatosPrestamos\": { \n    \"sBTDatosPrestamo\": [ \n      { \n        \"plazo\": 113, \n        \"eventosPosteriores\": \"N\", \n        \"deudaTotalVencida\": 521.12, \n        \"periodicidad\": 15, \n        \"simboloMoneda\": \"$\", \n        \"fechaVencimiento\": \"2023-02-15\", \n        \"producto\": { \n          \"papel\": \"$\", \n          \"moneda\": \"S/\", \n          \"productoUId\": 1, \n          \"nombre\": \"PRÉSTAMO-Financiero 9\" \n        }, \n        \"clienteUId\": 253, \n        \"fechaProximoVencimiento\": \"2023-01-31\", \n        \"tasaVigente\": 83.23, \n        \"fechaPrimerCuotaImpaga\": \"2022-10-25\", \n        \"valorCuota\": 75.77, \n        \"saldoCapital\": 500, \n        \"otrosConceptos\": \"\", \n        \"cantidadCuotasVencidas\": 6, \n        \"capitalOriginal\": 500, \n        \"tir\": 0, \n        \"deudaCancelacionTotal\": 672.7, \n        \"diasMora\": 95, \n        \"operacionUId\": 5819, \n        \"cantidadCuotasImpagas\": 8, \n        \"deudaTotalAFecha\": 596.89, \n        \"cuotasPagasConRetraso\": 0, \n        \"fechaUltimoPago\": \"\", \n        \"tipoAmortizacion\": \"Francés con Seg.e Impu.\", \n        \"datosAdicionales\": \"\", \n        \"estado\": \"Normal\", \n        \"tasaMoraVigente\": 40, \n        \"sucursal\": \"MIRAFLORES\", \n        \"fechaValor\": \"2022-10-25\", \n        \"cantidadCuotas\": 8 \n      }, \n      { \n        \"plazo\": 112, \n        \"eventosPosteriores\": \"N\", \n        \"deudaTotalVencida\": 770.8, \n        \"periodicidad\": 15, \n        \"simboloMoneda\": \"$\", \n        \"fechaVencimiento\": \"2023-02-15\", \n        \"producto\": { \n          \"papel\": \"$\", \n          \"moneda\": \"S/\", \n          \"productoUId\": 1, \n          \"nombre\": \"PRÉSTAMO-Financiero 9\" \n        }, \n        \"clienteUId\": 310, \n        \"fechaProximoVencimiento\": \"2023-01-31\", \n        \"tasaVigente\": 83.23, \n        \"fechaPrimerCuotaImpaga\": \"2022-10-26\", \n        \"valorCuota\": 117.5, \n        \"saldoCapital\": 800, \n        \"otrosConceptos\": \"\", \n        \"cantidadCuotasVencidas\": 6, \n        \"capitalOriginal\": 800, \n        \"tir\": 0, \n        \"deudaCancelacionTotal\": 1006.52, \n        \"diasMora\": 94, \n        \"operacionUId\": 9197, \n        \"cantidadCuotasImpagas\": 8, \n        \"deudaTotalAFecha\": 888.3, \n        \"cuotasPagasConRetraso\": 0, \n        \"fechaUltimoPago\": \"\", \n        \"tipoAmortizacion\": \"Francés con Seg.e Impu.\", \n        \"datosAdicionales\": \"\", \n        \"estado\": \"Normal\", \n        \"tasaMoraVigente\": 40, \n        \"sucursal\": \"MIRAFLORES\", \n        \"fechaValor\": \"2022-10-26\", \n        \"cantidadCuotas\": 8 \n      } \n    ] \n  }, \n    \"Erroresnegocio\": { \n        \"BTErrorNegocio\": [] \n    }, \n    \"Btoutreq\": { \n        \"Numero\": \"901\", \n        \"Estado\": \"OK\", \n        \"Servicio\": \"BTPrestamos.ObtenerPrestamosPorRangoMora\", \n        \"Fecha\": \"2017-12-21\", \n        \"Requerimiento\": \"\", \n        \"Hora\": \"12:27:52\", \n        \"Canal\": \"BTDIGITAL\" \n    } \n}' \n``` \n</code-block> \n</code-group> \n\n",
    "AzureSearch_DocumentKey": 464
}